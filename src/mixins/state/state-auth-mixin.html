<script>
	let StateAuthMixin = (superclass) => class extends superclass {
		constructor() {
			super();
			this._createComputedProperty('loggedIn', '_computeLoggedIn(state)', true);
			this._computeLoggedIn = function(state) {
				return state!=undefined && state.user!=undefined && state.user.login!=null;
			}
			this.refreshUserInfo = function() {
				this.ajaxGet({ url: "auth/info"
					,responseHandler : (data) => { 
						this.setState('user', data);
					}

			})
			}
		}
		
		
	}
</script>
